<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ACE</title>
  <link rel="stylesheet" href="/static/style.css" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#0b0b0c;color:#eaeaea}
    .topbar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #222;position:sticky;top:0;background:#0b0b0c;z-index:10}
    .btn{cursor:pointer;border:1px solid #2b2b2b;background:#151518;color:#eaeaea;padding:10px 12px;border-radius:10px}
    .btn:hover{background:#1b1b20}
    .btn.primary{border-color:#3a8bfd;background:#1a2a44}
    .btn.primary:hover{background:#20365a}
    .wrap{max-width:980px;margin:0 auto;padding:16px}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .pill{padding:6px 10px;border-radius:999px;background:#151518;border:1px solid #2b2b2b;font-size:12px;color:#bdbdbd}
    .chat{border:1px solid #222;border-radius:16px;background:#0f0f12;min-height:55vh;display:flex;flex-direction:column}
    .msgs{flex:1;overflow:auto;padding:14px;display:flex;flex-direction:column;gap:12px}
    .msg{padding:12px 12px;border:1px solid #232323;border-radius:14px;white-space:pre-wrap;line-height:1.35}
    .msg.user{align-self:flex-end;background:#131a22;border-color:#223244}
    .msg.ace{align-self:flex-start;background:#121214}
    .composer{display:flex;gap:10px;padding:12px;border-top:1px solid #222}
    textarea{flex:1;resize:vertical;min-height:44px;max-height:180px;border-radius:12px;border:1px solid #2b2b2b;background:#0b0b0c;color:#eaeaea;padding:10px}
    .banner{display:none;margin:12px 0;padding:10px 12px;border-radius:12px;border:1px solid #442;background:#241;}
    .banner.show{display:block}
    .muted{color:#a9a9a9;font-size:12px}
    .spacer{height:8px}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="row">
      <div style="font-weight:800;letter-spacing:.5px">ACE</div>
      <div id="healthPill" class="pill">checking…</div>
      <div id="modePill" class="pill">guest</div>
      <div id="queuePill" class="pill" style="display:none"></div>
    </div>
    <div class="row">
      <button id="btnClear" class="btn">Clear</button>
    </div>
  </div>

  <div class="wrap">
    <div id="banner" class="banner"></div>

    <div class="chat">
      <div id="messages" class="msgs"></div>
      <div class="composer">
        <textarea id="chatInput" placeholder="Type…"></textarea>
        <button id="btnSend" class="btn primary">Send</button>
      </div>
    </div>

    <div class="spacer"></div>
    <div class="muted">
      Tip: add <b>ACW</b> at the end of your prompt to enable ACW mode.
    </div>
  </div>

  <!-- Cache-bust so browsers don’t keep old JS -->
  <script src="/static/app.js?v=guest_20260207_1800"></script>
</body>
</html>